{"ast":null,"code":"import _classCallCheck from\"/home/rudra/Documents/backendforget/frontend/lms/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/rudra/Documents/backendforget/frontend/lms/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/rudra/Documents/backendforget/frontend/lms/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/rudra/Documents/backendforget/frontend/lms/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/rudra/Documents/backendforget/frontend/lms/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";// ** create-user.component.js ** //\nimport React,{Component}from\"react\";import axios from\"axios\";import NavBar from\"./NavBar\";import{Link}from\"react-router-dom\";import{json}from\"body-parser\";import{ToastContainer,toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(props){var _this;_classCallCheck(this,Login);_this=_super.call(this,props);_this.onChangeEmail=_this.onChangeEmail.bind(_assertThisInitialized(_this));_this.onChangePassword=_this.onChangePassword.bind(_assertThisInitialized(_this));_this.onSubmit=_this.onSubmit.bind(_assertThisInitialized(_this));_this.state={email:\"\",password:\"\"};return _this;}_createClass(Login,[{key:\"onChangeEmail\",value:function onChangeEmail(e){this.setState({email:e.target.value});}},{key:\"onChangePassword\",value:function onChangePassword(e){this.setState({password:e.target.value});}},{key:\"onSubmit\",value:function onSubmit(e){var _this2=this;e.preventDefault();var userObject={email:this.state.email,password:this.state.password};axios.post(\"/api/auth\",userObject).then(function(res){//console.log(res.data.id);\nlocalStorage.setItem(\"login\",JSON.stringify(res));localStorage.setItem(\"role\",res.data.role);localStorage.setItem(\"id\",res.data.id);localStorage.setItem(\"name\",res.data.name);//const a = localStorage.getItem(\"role\");\nconsole.log(res.data.id);//alert()\n// console.log(a === \"superAdmin\");\n//console.log(JSON.stringify(res.data.id));\nreturn _this2.props.history.push(\"/\");}).catch(function(error){console.log(error.msg);alert(error);});this.setState({email:\"\",password:\"\"});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(NavBar,null),/*#__PURE__*/React.createElement(\"div\",{className:\"wrapper m-5 \"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.onSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group m-3\"},/*#__PURE__*/React.createElement(\"label\",{forhtml:\"email\"},\"Email\"),/*#__PURE__*/React.createElement(\"input\",{autoFocus:true,autoComplete:true,required:true,type:\"text\",id:\"email\",placeholder:\"Email\",value:this.state.email,onChange:this.onChangeEmail,className:\"form-control\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group m-3 \"},/*#__PURE__*/React.createElement(\"label\",{forhtml:\"password\"},\"Password\"),/*#__PURE__*/React.createElement(\"input\",{autoFocus:true,autoComplete:true,required:true,type:\"text\",id:\"password\",placeholder:\"Password\",value:this.state.password,onChange:this.onChangePassword,className:\"form-control\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group m-3\"},/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",value:\"Login\",className:\"btn btn-success\"})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Link,{to:\"/forget-password\"},\"Forget Password\"),/*#__PURE__*/React.createElement(\"hr\",null),\" New_User ?\",/*#__PURE__*/React.createElement(Link,{to:\"/register\"},\"Register\")))));}}]);return Login;}(Component);export{Login as default};","map":{"version":3,"sources":["/home/rudra/Documents/backendforget/frontend/lms/src/components/Login.js"],"names":["React","Component","axios","NavBar","Link","json","ToastContainer","toast","Login","props","onChangeEmail","bind","onChangePassword","onSubmit","state","email","password","e","setState","target","value","preventDefault","userObject","post","then","res","localStorage","setItem","JSON","stringify","data","role","id","name","console","log","history","push","catch","error","msg","alert"],"mappings":"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","sourcesContent":["// ** create-user.component.js ** //\n\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport NavBar from \"./NavBar\";\nimport { Link } from \"react-router-dom\";\nimport { json } from \"body-parser\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nexport default class Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChangeEmail = this.onChangeEmail.bind(this);\n    this.onChangePassword = this.onChangePassword.bind(this);\n\n    this.onSubmit = this.onSubmit.bind(this);\n\n    this.state = {\n      email: \"\",\n      password: \"\",\n    };\n  }\n\n  onChangeEmail(e) {\n    this.setState({ email: e.target.value });\n  }\n\n  onChangePassword(e) {\n    this.setState({ password: e.target.value });\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n\n    const userObject = {\n      email: this.state.email,\n      password: this.state.password,\n    };\n\n    axios\n      .post(\"/api/auth\", userObject)\n      .then((res) => {\n        //console.log(res.data.id);\n        localStorage.setItem(\"login\", JSON.stringify(res));\n        localStorage.setItem(\"role\", res.data.role);\n        localStorage.setItem(\"id\", res.data.id);\n        localStorage.setItem(\"name\", res.data.name);\n\n        //const a = localStorage.getItem(\"role\");\n        console.log(res.data.id);\n        //alert()\n        // console.log(a === \"superAdmin\");\n        //console.log(JSON.stringify(res.data.id));\n        return this.props.history.push(\"/\");\n      })\n      .catch((error) => {\n        console.log(error.msg);\n        alert(error);\n      });\n\n    this.setState({ email: \"\", password: \"\" });\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <NavBar />\n        <div className=\"wrapper m-5 \">\n          <form onSubmit={this.onSubmit}>\n            <div className=\"form-group m-3\">\n              <label forhtml=\"email\">Email</label>\n              <input\n                autoFocus\n                autoComplete\n                required\n                type=\"text\"\n                id=\"email\"\n                placeholder=\"Email\"\n                value={this.state.email}\n                onChange={this.onChangeEmail}\n                className=\"form-control\"\n              />\n            </div>\n            <div className=\"form-group m-3 \">\n              <label forhtml=\"password\">Password</label>\n              <input\n                autoFocus\n                autoComplete\n                required\n                type=\"text\"\n                id=\"password\"\n                placeholder=\"Password\"\n                value={this.state.password}\n                onChange={this.onChangePassword}\n                className=\"form-control\"\n              />\n            </div>\n            <div className=\"form-group m-3\">\n              <input type=\"submit\" value=\"Login\" className=\"btn btn-success\" />\n            </div>\n            <div>\n              <Link to=\"/forget-password\">Forget Password</Link>\n              <hr /> New_User ?<Link to=\"/register\">Register</Link>\n            </div>\n          </form>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}