{"ast":null,"code":"import _classCallCheck from\"/home/rudra/Documents/Library-sql/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/rudra/Documents/Library-sql/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/rudra/Documents/Library-sql/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/rudra/Documents/Library-sql/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/rudra/Documents/Library-sql/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";// ** create-user.component.js ** //\nimport React,{Component}from\"react\";import axios from\"axios\";import NavBar from\"./NavBar\";import{toast,ToastContainer}from\"react-toastify\";var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(props){var _this;_classCallCheck(this,Login);_this=_super.call(this,props);_this.onChangeEmail=_this.onChangeEmail.bind(_assertThisInitialized(_this));_this.onSubmit=_this.onSubmit.bind(_assertThisInitialized(_this));_this.state={email:\"\",alert_message:\"\",errors:{email:\"\"}};return _this;}_createClass(Login,[{key:\"onChangeEmail\",value:function onChangeEmail(e){var value=e.target.value;var errors=this.state.errors;errors.email=this.state.email===\" \"||value.length<3?\"email must contain 3 character\":\"\";var apos=value.indexOf(\"@\");var dotpos=value.lastIndexOf(\".\");if(apos<1||dotpos-apos<2){errors.email=\"please enter a valid email id\";}this.setState({email:e.target.value});}},{key:\"onSubmit\",value:function onSubmit(e){var _this2=this;e.preventDefault();var userObject={email:this.state.email};axios.post(\"/forget-password\",userObject).then(function(res){console.log(res.data.msg);toast.success(res.data);_this2.setState({alert_message:\"success\"});// localStorage.setItem(\"forget\", JSON.stringify(res));\n//return this.props.history.push(\"/\");\n}).catch(function(error){console.log(error);_this2.setState({alert_message:\"error\"});// alert(\"Email not exists or enter a correct email\");\n});this.setState({email:\"\"});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ToastContainer,null),/*#__PURE__*/React.createElement(NavBar,null),/*#__PURE__*/React.createElement(\"div\",{className:\"wrapper m-5 \"},this.state.alert_message===\"succes\"?/*#__PURE__*/React.createElement(\"div\",{className:\"alert alert-success\",role:\"alert\"},\"Email has been sent to your email id\"):\"\",this.state.alert_message===\"error\"?/*#__PURE__*/React.createElement(\"div\",{className:\"alert alert-danger\",role:\"alert\"},\"Enter a correct email id\"):\"\",/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.onSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group m-3\"},/*#__PURE__*/React.createElement(\"label\",{forhtml:\"email\"},\"Email\"),/*#__PURE__*/React.createElement(\"input\",{autoFocus:true,type:\"text\",id:\"email\",placeholder:\"Email\",value:this.state.email,onChange:this.onChangeEmail,className:\"form-control\"})),this.state.errors.email?/*#__PURE__*/React.createElement(\"div\",{className:\"alert alert-danger m-1\",role:\"alert\"},this.state.errors.email):\"\",/*#__PURE__*/React.createElement(\"div\",{className:\"form-group m-3\"},/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",value:\"send\",className:\"btn btn-success\"})))));}}]);return Login;}(Component);export{Login as default};","map":{"version":3,"sources":["/home/rudra/Documents/Library-sql/frontend/src/components/Forget.jsx"],"names":["React","Component","axios","NavBar","toast","ToastContainer","Login","props","onChangeEmail","bind","onSubmit","state","email","alert_message","errors","e","value","target","length","apos","indexOf","dotpos","lastIndexOf","setState","preventDefault","userObject","post","then","res","console","log","data","msg","success","catch","error"],"mappings":"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","sourcesContent":["// ** create-user.component.js ** //\n\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport NavBar from \"./NavBar\";\nimport { toast, ToastContainer } from \"react-toastify\";\nexport default class Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChangeEmail = this.onChangeEmail.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n\n    this.state = {\n      email: \"\",\n      alert_message: \"\",\n      errors: {\n        email: \"\",\n      },\n    };\n  }\n\n  onChangeEmail(e) {\n    let value = e.target.value;\n    let errors = this.state.errors;\n    errors.email =\n      this.state.email === \" \" || value.length < 3\n        ? \"email must contain 3 character\"\n        : \"\";\n    let apos = value.indexOf(\"@\");\n    let dotpos = value.lastIndexOf(\".\");\n    if (apos < 1 || dotpos - apos < 2) {\n      errors.email = \"please enter a valid email id\";\n    }\n    this.setState({ email: e.target.value });\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n\n    const userObject = {\n      email: this.state.email,\n    };\n\n    axios\n      .post(\"/forget-password\", userObject)\n      .then((res) => {\n        console.log(res.data.msg);\n        toast.success(res.data);\n        this.setState({\n          alert_message: \"success\",\n        });\n        // localStorage.setItem(\"forget\", JSON.stringify(res));\n        //return this.props.history.push(\"/\");\n      })\n      .catch((error) => {\n        console.log(error);\n        this.setState({\n          alert_message: \"error\",\n        });\n        // alert(\"Email not exists or enter a correct email\");\n      });\n\n    this.setState({ email: \"\" });\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <ToastContainer />\n        <NavBar />\n        <div className=\"wrapper m-5 \">\n          {this.state.alert_message === \"succes\" ? (\n            <div className=\"alert alert-success\" role=\"alert\">\n              Email has been sent to your email id\n            </div>\n          ) : (\n            \"\"\n          )}\n          {this.state.alert_message === \"error\" ? (\n            <div className=\"alert alert-danger\" role=\"alert\">\n              Enter a correct email id\n            </div>\n          ) : (\n            \"\"\n          )}\n          <form onSubmit={this.onSubmit}>\n            <div className=\"form-group m-3\">\n              <label forhtml=\"email\">Email</label>\n              <input\n                autoFocus\n                type=\"text\"\n                id=\"email\"\n                placeholder=\"Email\"\n                value={this.state.email}\n                onChange={this.onChangeEmail}\n                className=\"form-control\"\n              />\n            </div>\n            {this.state.errors.email ? (\n              <div className=\"alert alert-danger m-1\" role=\"alert\">\n                {this.state.errors.email}\n              </div>\n            ) : (\n              \"\"\n            )}\n\n            <div className=\"form-group m-3\">\n              <input type=\"submit\" value=\"send\" className=\"btn btn-success\" />\n            </div>\n          </form>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}