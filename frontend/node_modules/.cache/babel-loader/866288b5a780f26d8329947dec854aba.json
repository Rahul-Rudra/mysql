{"ast":null,"code":"import _classCallCheck from\"/home/rudra/Documents/Library-sql/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/rudra/Documents/Library-sql/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/rudra/Documents/Library-sql/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/rudra/Documents/Library-sql/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import axios from\"axios\";import\"bootstrap/dist/css/bootstrap.css\";import Pagination from\"./Pagination\";import{Paginate}from\"./util/Paginate\";//import Toggle from \"./Toggle\";\nimport NavBar from\"./NavBar\";var Mybook=/*#__PURE__*/function(_Component){_inherits(Mybook,_Component);var _super=_createSuper(Mybook);function Mybook(props){var _this;_classCallCheck(this,Mybook);_this=_super.call(this,props);_this.control=function(id){_this.setState({count:_this.state.count+1});};_this.handlePageChange=function(page){_this.setState({currentPage:page});};_this.state={mybook:[],currentPage:1,pageSize:4,count:0//checked: false,\n// isEnable: true,\n};return _this;}_createClass(Mybook,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var id=localStorage.getItem(\"id\");//console.log(id);\naxios.get(\"/api/users/mybooks/\".concat(id)).then(function(response){console.log(response.data);_this2.setState({mybook:response.data});}).catch(function(error){console.log(error);});}},{key:\"render\",value:function render(){var _this$state=this.state,pageSize=_this$state.pageSize,currentPage=_this$state.currentPage,allmybook=_this$state.mybook;var mybook=Paginate(allmybook,currentPage,pageSize);return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(NavBar,null),/*#__PURE__*/React.createElement(\"table\",{className:\"table table-bordered table-hover table-lg w-30 p-2 m-3\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",{className:\"table-success\"},/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Book_Name\"),/*#__PURE__*/React.createElement(\"th\",null,\"IssueDate\"),/*#__PURE__*/React.createElement(\"th\",null,\"Return\"))),/*#__PURE__*/React.createElement(\"tbody\",null,mybook.map(function(u,i){var d=u.issueDate.split(\"T\");var d1=u.returnDate.split(\"T\");return/*#__PURE__*/React.createElement(\"tr\",{key:i},/*#__PURE__*/React.createElement(\"td\",null,u.title),/*#__PURE__*/React.createElement(\"td\",null,d[0]),/*#__PURE__*/React.createElement(\"td\",null,d1[0]));}))),/*#__PURE__*/React.createElement(Pagination,{itemsCount:this.state.mybook.length,pageSize:this.state.pageSize,currentPage:this.state.currentPage,onPageChange:this.handlePageChange})));}}]);return Mybook;}(Component);export default Mybook;","map":{"version":3,"sources":["/home/rudra/Documents/Library-sql/frontend/src/components/Mybook.jsx"],"names":["React","Component","axios","Pagination","Paginate","NavBar","Mybook","props","control","id","setState","count","state","handlePageChange","page","currentPage","mybook","pageSize","localStorage","getItem","get","then","response","console","log","data","catch","error","allmybook","map","u","i","d","issueDate","split","d1","returnDate","title","length"],"mappings":"onBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CAEA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,kCAAP,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,OAASC,QAAT,KAAyB,iBAAzB,CAEA;AACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,C,GAEMC,CAAAA,M,gGACJ,gBAAYC,KAAZ,CAAmB,wCACjB,uBAAMA,KAAN,EADiB,MA0BnBC,OA1BmB,CA0BT,SAACC,EAAD,CAAQ,CAChB,MAAKC,QAAL,CAAc,CAAEC,KAAK,CAAE,MAAKC,KAAL,CAAWD,KAAX,CAAmB,CAA5B,CAAd,EACD,CA5BkB,OA8BnBE,gBA9BmB,CA8BA,SAACC,IAAD,CAAU,CAC3B,MAAKJ,QAAL,CAAc,CAAEK,WAAW,CAAED,IAAf,CAAd,EACD,CAhCkB,CAGjB,MAAKF,KAAL,CAAa,CACXI,MAAM,CAAE,EADG,CAEXD,WAAW,CAAE,CAFF,CAGXE,QAAQ,CAAE,CAHC,CAIXN,KAAK,CAAE,CACP;AACA;AANW,CAAb,CAHiB,aAWlB,C,gFACmB,iBAClB,GAAMF,CAAAA,EAAE,CAAGS,YAAY,CAACC,OAAb,CAAqB,IAArB,CAAX,CACA;AACAjB,KAAK,CACFkB,GADH,8BAC6BX,EAD7B,GAEGY,IAFH,CAEQ,SAACC,QAAD,CAAc,CAClBC,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB,EACA,MAAI,CAACf,QAAL,CAAc,CAAEM,MAAM,CAAEM,QAAQ,CAACG,IAAnB,CAAd,EACD,CALH,EAMGC,KANH,CAMS,SAACC,KAAD,CAAW,CAChBJ,OAAO,CAACC,GAAR,CAAYG,KAAZ,EACD,CARH,EASD,C,uCAUQ,iBAC8C,KAAKf,KADnD,CACCK,QADD,aACCA,QADD,CACWF,WADX,aACWA,WADX,CACgCa,SADhC,aACwBZ,MADxB,CAEP,GAAMA,CAAAA,MAAM,CAAGZ,QAAQ,CAACwB,SAAD,CAAYb,WAAZ,CAAyBE,QAAzB,CAAvB,CACA,mBACE,2BAAK,SAAS,CAAC,KAAf,eACE,oBAAC,KAAD,CAAO,QAAP,mBACE,oBAAC,MAAD,MADF,cAEE,6BAAO,SAAS,CAAC,wDAAjB,eACE,8CACE,0BAAI,SAAS,CAAC,eAAd,eACE,0BAAI,KAAK,CAAC,KAAV,cADF,cAEE,0CAFF,cAGE,uCAHF,CADF,CADF,cAQE,iCACGD,MAAM,CAACa,GAAP,CAAW,SAACC,CAAD,CAAIC,CAAJ,CAAU,CACrB,GAAMC,CAAAA,CAAC,CAAGF,CAAC,CAACG,SAAF,CAAYC,KAAZ,CAAkB,GAAlB,CAAV,CACC,GAAMC,CAAAA,EAAE,CAAGL,CAAC,CAACM,UAAF,CAAaF,KAAb,CAAmB,GAAnB,CAAX,CACA,mBACE,0BAAI,GAAG,CAAEH,CAAT,eACE,8BAAKD,CAAC,CAACO,KAAP,CADF,cAEE,8BAAKL,CAAC,CAAC,CAAD,CAAN,CAFF,cAGE,8BAAKG,EAAE,CAAC,CAAD,CAAP,CAHF,CADF,CAOD,CAVA,CADH,CARF,CAFF,cAwBE,oBAAC,UAAD,EACE,UAAU,CAAE,KAAKvB,KAAL,CAAWI,MAAX,CAAkBsB,MADhC,CAEE,QAAQ,CAAE,KAAK1B,KAAL,CAAWK,QAFvB,CAGE,WAAW,CAAE,KAAKL,KAAL,CAAWG,WAH1B,CAIE,YAAY,CAAE,KAAKF,gBAJrB,EAxBF,CADF,CADF,CAmCD,C,oBAzEkBZ,S,EA4ErB,cAAeK,CAAAA,MAAf","sourcesContent":["import React, { Component } from \"react\";\n\nimport axios from \"axios\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport Pagination from \"./Pagination\";\nimport { Paginate } from \"./util/Paginate\";\n\n//import Toggle from \"./Toggle\";\nimport NavBar from \"./NavBar\";\n\nclass Mybook extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      mybook: [],\n      currentPage: 1,\n      pageSize: 4,\n      count: 0,\n      //checked: false,\n      // isEnable: true,\n    };\n  }\n  componentDidMount() {\n    const id = localStorage.getItem(\"id\");\n    //console.log(id);\n    axios\n      .get(`/api/users/mybooks/${id}`)\n      .then((response) => {\n        console.log(response.data);\n        this.setState({ mybook: response.data });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  control = (id) => {\n    this.setState({ count: this.state.count + 1 });\n  };\n\n  handlePageChange = (page) => {\n    this.setState({ currentPage: page });\n  };\n\n  render() {\n    const { pageSize, currentPage, mybook: allmybook } = this.state;\n    const mybook = Paginate(allmybook, currentPage, pageSize);\n    return (\n      <div className=\"App\">\n        <React.Fragment>\n          <NavBar />\n          <table className=\"table table-bordered table-hover table-lg w-30 p-2 m-3\">\n            <thead>\n              <tr className=\"table-success\">\n                <th scope=\"col\">Book_Name</th>\n                <th>IssueDate</th>\n                <th>Return</th>\n              </tr>\n            </thead>\n            <tbody>\n              {mybook.map((u, i) => {\n               const d = u.issueDate.split(\"T\");\n                const d1 = u.returnDate.split(\"T\");\n                return (\n                  <tr key={i}>\n                    <td>{u.title}</td>\n                    <td>{d[0]}</td>\n                    <td>{d1[0]}</td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n          <Pagination\n            itemsCount={this.state.mybook.length}\n            pageSize={this.state.pageSize}\n            currentPage={this.state.currentPage}\n            onPageChange={this.handlePageChange}\n          />\n        </React.Fragment>\n      </div>\n    );\n  }\n}\n\nexport default Mybook;\n"]},"metadata":{},"sourceType":"module"}