{"ast":null,"code":"import _classCallCheck from\"/home/rudra/Documents/backendforget/frontend/lms/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/rudra/Documents/backendforget/frontend/lms/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/rudra/Documents/backendforget/frontend/lms/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/rudra/Documents/backendforget/frontend/lms/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import Issue from\"../Issue.json\";import axios from\"axios\";import\"bootstrap/dist/css/bootstrap.css\";import Pagination from\"./Pagination\";import{Paginate}from\"./util/Paginate\";import{Link}from\"react-router-dom\";//import Toggle from \"./Toggle\";\nimport NavBar from\"./NavBar\";//import Register from \"./Register\";\nvar IssuedBook=/*#__PURE__*/function(_Component){_inherits(IssuedBook,_Component);var _super=_createSuper(IssuedBook);function IssuedBook(){var _this;_classCallCheck(this,IssuedBook);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={Issue:[],currentPage:1,pageSize:5,count:0//checked: false,\n// isEnable: true,\n};_this.control=function(id){_this.setState({count:_this.state.count+1});// return this.state.count;\n};_this.handlePageChange=function(page){_this.setState({currentPage:page});};return _this;}_createClass(IssuedBook,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get(\"/api/issued/books\").then(function(response){//this.state.movie = response.data;\n_this2.setState({Issue:response.data});console.log(Issue);//console.log(response.data);\n}).catch(function(error){console.log(error);});}/* deleteUser = (id) => {\n    axios.delete(`http://localhost:7500/api/users/${id}`).then((res) => {\n      const users = this.state.user.filter((c) => c._id !== id);\n      this.setState({ user: users });\n    });\n  };\n*/ ///editUser = (id) => {};\n/*  disableUser = (id) => {\n    axios.put(`http://localhost:9500/api/users/${id}`).then((res) => {\n      //console.log(res.data);\n      return this.props.history.push(\"/login\");\n      //this.setState({ count: this.state.count + 1 });\n    });\n  };\n*/ //componentDidMount(){}\n},{key:\"render\",value:function render(){var _this$state=this.state,pageSize=_this$state.pageSize,currentPage=_this$state.currentPage,allIssue=_this$state.Issue;var Issue=Paginate(allIssue,currentPage,pageSize);return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(NavBar,null),/*#__PURE__*/React.createElement(\"table\",{className:\"table table-bordered table-hover table-lg w-40 p-3 m-5\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Book_Title\"),/*#__PURE__*/React.createElement(\"th\",null,\"IssueDate\"),/*#__PURE__*/React.createElement(\"th\",null,\"UserName\"))),/*#__PURE__*/React.createElement(\"tbody\",null,Issue.map(function(u,i){return/*#__PURE__*/React.createElement(\"tr\",{key:i},/*#__PURE__*/React.createElement(\"td\",null,u.book_info.title),/*#__PURE__*/React.createElement(\"td\",null,u.book_info.issueDate),/*#__PURE__*/React.createElement(\"td\",null,u.user_id.name));}))),/*#__PURE__*/React.createElement(Pagination,{itemsCount:this.state.Issue.length,pageSize:this.state.pageSize,currentPage:this.state.currentPage,onPageChange:this.handlePageChange})));}}]);return IssuedBook;}(Component);export default IssuedBook;","map":{"version":3,"sources":["/home/rudra/Documents/backendforget/frontend/lms/src/components/IssuedBook.jsx"],"names":["React","Component","Issue","axios","Pagination","Paginate","Link","NavBar","IssuedBook","state","currentPage","pageSize","count","control","id","setState","handlePageChange","page","get","then","response","data","console","log","catch","error","allIssue","map","u","i","book_info","title","issueDate","user_id","name","length"],"mappings":"4oBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,eAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,kCAAP,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,OAASC,QAAT,KAAyB,iBAAzB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA;AACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA;GAEMC,CAAAA,U,2UACJC,K,CAAQ,CACNP,KAAK,CAAE,EADD,CAENQ,WAAW,CAAE,CAFP,CAGNC,QAAQ,CAAE,CAHJ,CAINC,KAAK,CAAE,CACP;AACA;AANM,C,OAsCRC,O,CAAU,SAACC,EAAD,CAAQ,CAChB,MAAKC,QAAL,CAAc,CAAEH,KAAK,CAAE,MAAKH,KAAL,CAAWG,KAAX,CAAmB,CAA5B,CAAd,EACA;AACD,C,OAEDI,gB,CAAmB,SAACC,IAAD,CAAU,CAC3B,MAAKF,QAAL,CAAc,CAAEL,WAAW,CAAEO,IAAf,CAAd,EACD,C,mGArCmB,iBAClBd,KAAK,CACFe,GADH,CACO,mBADP,EAEGC,IAFH,CAEQ,SAACC,QAAD,CAAc,CAClB;AACA,MAAI,CAACL,QAAL,CAAc,CAAEb,KAAK,CAAEkB,QAAQ,CAACC,IAAlB,CAAd,EACAC,OAAO,CAACC,GAAR,CAAYrB,KAAZ,EACA;AACD,CAPH,EAQGsB,KARH,CAQS,SAACC,KAAD,CAAW,CAChBH,OAAO,CAACC,GAAR,CAAYE,KAAZ,EACD,CAVH,EAWD,CACD;;;;;;GAOA;AACA;;;;;;;GAQA;uCAUS,iBAC4C,KAAKhB,KADjD,CACCE,QADD,aACCA,QADD,CACWD,WADX,aACWA,WADX,CAC+BgB,QAD/B,aACwBxB,KADxB,CAEP,GAAMA,CAAAA,KAAK,CAAGG,QAAQ,CAACqB,QAAD,CAAWhB,WAAX,CAAwBC,QAAxB,CAAtB,CACA,mBACE,2BAAK,SAAS,CAAC,KAAf,eACE,oBAAC,KAAD,CAAO,QAAP,mBACE,oBAAC,MAAD,MADF,cAEE,6BAAO,SAAS,CAAC,wDAAjB,eACE,8CACE,2CACE,2CADF,cAEE,0CAFF,cAGE,yCAHF,CADF,CADF,cAQE,iCACGT,KAAK,CAACyB,GAAN,CAAU,SAACC,CAAD,CAAIC,CAAJ,CAAU,CACnB,mBACE,0BAAI,GAAG,CAAEA,CAAT,eACE,8BAAKD,CAAC,CAACE,SAAF,CAAYC,KAAjB,CADF,cAEE,8BAAKH,CAAC,CAACE,SAAF,CAAYE,SAAjB,CAFF,cAGE,8BAAKJ,CAAC,CAACK,OAAF,CAAUC,IAAf,CAHF,CADF,CAOD,CARA,CADH,CARF,CAFF,cAsBE,oBAAC,UAAD,EACE,UAAU,CAAE,KAAKzB,KAAL,CAAWP,KAAX,CAAiBiC,MAD/B,CAEE,QAAQ,CAAE,KAAK1B,KAAL,CAAWE,QAFvB,CAGE,WAAW,CAAE,KAAKF,KAAL,CAAWC,WAH1B,CAIE,YAAY,CAAE,KAAKM,gBAJrB,EAtBF,CADF,CADF,CAiCD,C,wBApFsBf,S,EAuFzB,cAAeO,CAAAA,UAAf","sourcesContent":["import React, { Component } from \"react\";\nimport Issue from \"../Issue.json\";\nimport axios from \"axios\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport Pagination from \"./Pagination\";\nimport { Paginate } from \"./util/Paginate\";\nimport { Link } from \"react-router-dom\";\n//import Toggle from \"./Toggle\";\nimport NavBar from \"./NavBar\";\n//import Register from \"./Register\";\n\nclass IssuedBook extends Component {\n  state = {\n    Issue: [],\n    currentPage: 1,\n    pageSize: 5,\n    count: 0,\n    //checked: false,\n    // isEnable: true,\n  };\n  componentDidMount() {\n    axios\n      .get(\"/api/issued/books\")\n      .then((response) => {\n        //this.state.movie = response.data;\n        this.setState({ Issue: response.data });\n        console.log(Issue);\n        //console.log(response.data);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n  /* deleteUser = (id) => {\n    axios.delete(`http://localhost:7500/api/users/${id}`).then((res) => {\n      const users = this.state.user.filter((c) => c._id !== id);\n      this.setState({ user: users });\n    });\n  };\n*/\n  ///editUser = (id) => {};\n  /*  disableUser = (id) => {\n    axios.put(`http://localhost:9500/api/users/${id}`).then((res) => {\n      //console.log(res.data);\n      return this.props.history.push(\"/login\");\n      //this.setState({ count: this.state.count + 1 });\n    });\n  };\n*/\n  //componentDidMount(){}\n  control = (id) => {\n    this.setState({ count: this.state.count + 1 });\n    // return this.state.count;\n  };\n\n  handlePageChange = (page) => {\n    this.setState({ currentPage: page });\n  };\n\n  render() {\n    const { pageSize, currentPage, Issue: allIssue } = this.state;\n    const Issue = Paginate(allIssue, currentPage, pageSize);\n    return (\n      <div className=\"App\">\n        <React.Fragment>\n          <NavBar />\n          <table className=\"table table-bordered table-hover table-lg w-40 p-3 m-5\">\n            <thead>\n              <tr>\n                <th>Book_Title</th>\n                <th>IssueDate</th>\n                <th>UserName</th>\n              </tr>\n            </thead>\n            <tbody>\n              {Issue.map((u, i) => {\n                return (\n                  <tr key={i}>\n                    <td>{u.book_info.title}</td>\n                    <td>{u.book_info.issueDate}</td>\n                    <td>{u.user_id.name}</td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n          <Pagination\n            itemsCount={this.state.Issue.length}\n            pageSize={this.state.pageSize}\n            currentPage={this.state.currentPage}\n            onPageChange={this.handlePageChange}\n          />\n        </React.Fragment>\n      </div>\n    );\n  }\n}\n\nexport default IssuedBook;\n"]},"metadata":{},"sourceType":"module"}