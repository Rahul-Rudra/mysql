{"ast":null,"code":"import _classCallCheck from\"/home/rudra/Documents/backendforget/frontend/lms/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/rudra/Documents/backendforget/frontend/lms/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/rudra/Documents/backendforget/frontend/lms/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/rudra/Documents/backendforget/frontend/lms/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import user from\"../user.json\";import axios from\"axios\";import\"bootstrap/dist/css/bootstrap.css\";import Pagination from\"./Pagination\";import{Paginate}from\"./util/Paginate\";import{Link}from\"react-router-dom\";//import Toggle from \"./Toggle\";\nimport NavBar from\"./NavBar\";import Register from\"./Register\";var UserList=/*#__PURE__*/function(_Component){_inherits(UserList,_Component);var _super=_createSuper(UserList);function UserList(){var _this;_classCallCheck(this,UserList);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={user:[],currentPage:1,pageSize:5,count:0//checked: false,\n// isEnable: true,\n};_this.deleteUser=function(id){axios.delete(\"/api/users/\".concat(id)).then(function(res){var users=_this.state.user.filter(function(c){return c._id!==id;});_this.setState({user:users});});};_this.control=function(id){_this.setState({count:_this.state.count+1});// return this.state.count;\n};_this.handlePageChange=function(page){_this.setState({currentPage:page});};return _this;}_createClass(UserList,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get(\"/api/users\").then(function(response){//this.state.movie = response.data;\n_this2.setState({user:response.data});console.log(user);//console.log(response.data);\n}).catch(function(error){console.log(error);});}},{key:\"render\",value:function render(){var _this3=this;var _this$state=this.state,pageSize=_this$state.pageSize,currentPage=_this$state.currentPage,alluser=_this$state.user;var user=Paginate(alluser,currentPage,pageSize);return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(NavBar,null),/*#__PURE__*/React.createElement(\"table\",{className:\"table table-bordered table-hover table-lg w-30 p-2 m-3\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Name\"),/*#__PURE__*/React.createElement(\"th\",null,\"Email\"),/*#__PURE__*/React.createElement(\"th\",null,\"Role\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Delete\"),/*#__PURE__*/React.createElement(\"th\",null,\"Edit\"))),/*#__PURE__*/React.createElement(\"tbody\",null,user.map(function(u,i){return/*#__PURE__*/React.createElement(\"tr\",{key:i},/*#__PURE__*/React.createElement(\"td\",{scope:\"row\"},u.name),/*#__PURE__*/React.createElement(\"td\",null,u.email),/*#__PURE__*/React.createElement(\"td\",null,u.role),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-danger float-right\",onClick:function onClick(){_this3.deleteUser(u._id);}},\"Delete\")),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Link,{to:\"/edit/\".concat(u._id)},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-success float-right\"},\"Edit\"))));}))),/*#__PURE__*/React.createElement(Pagination,{itemsCount:this.state.user.length,pageSize:this.state.pageSize,currentPage:this.state.currentPage,onPageChange:this.handlePageChange})));}}]);return UserList;}(Component);export default UserList;","map":{"version":3,"sources":["/home/rudra/Documents/backendforget/frontend/lms/src/components/UserList.jsx"],"names":["React","Component","user","axios","Pagination","Paginate","Link","NavBar","Register","UserList","state","currentPage","pageSize","count","deleteUser","id","delete","then","res","users","filter","c","_id","setState","control","handlePageChange","page","get","response","data","console","log","catch","error","alluser","map","u","i","name","email","role","length"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport user from \"../user.json\";\nimport axios from \"axios\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport Pagination from \"./Pagination\";\nimport { Paginate } from \"./util/Paginate\";\nimport { Link } from \"react-router-dom\";\n//import Toggle from \"./Toggle\";\nimport NavBar from \"./NavBar\";\nimport Register from \"./Register\";\n\nclass UserList extends Component {\n  state = {\n    user: [],\n    currentPage: 1,\n    pageSize: 5,\n    count: 0,\n    //checked: false,\n    // isEnable: true,\n  };\n  componentDidMount() {\n    axios\n      .get(\"/api/users\")\n      .then((response) => {\n        //this.state.movie = response.data;\n        this.setState({ user: response.data });\n        console.log(user);\n        //console.log(response.data);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n  deleteUser = (id) => {\n    axios.delete(`/api/users/${id}`).then((res) => {\n      const users = this.state.user.filter((c) => c._id !== id);\n      this.setState({ user: users });\n    });\n  };\n\n  ///editUser = (id) => {};\n  /*  disableUser = (id) => {\n    axios.put(`http://localhost:9500/api/users/${id}`).then((res) => {\n      //console.log(res.data);\n      return this.props.history.push(\"/login\");\n      //this.setState({ count: this.state.count + 1 });\n    });\n  };\n*/\n  //componentDidMount(){}\n  control = (id) => {\n    this.setState({ count: this.state.count + 1 });\n    // return this.state.count;\n  };\n\n  handlePageChange = (page) => {\n    this.setState({ currentPage: page });\n  };\n\n  render() {\n    const { pageSize, currentPage, user: alluser } = this.state;\n    const user = Paginate(alluser, currentPage, pageSize);\n    return (\n      <div className=\"App\">\n        <React.Fragment>\n          <NavBar />\n          <table className=\"table table-bordered table-hover table-lg w-30 p-2 m-3\">\n            <thead>\n              <tr>\n                <th scope=\"col\">Name</th>\n                <th>Email</th>\n                <th>Role</th>\n                <th scope=\"col\">Delete</th>\n                <th>Edit</th>\n              </tr>\n            </thead>\n            <tbody>\n              {user.map((u, i) => {\n                return (\n                  <tr key={i}>\n                    <td scope=\"row\">{u.name}</td>\n                    <td>{u.email}</td>\n                    <td>{u.role}</td>\n\n                    <td>\n                      <button\n                        type=\"button\"\n                        className=\"btn btn-danger float-right\"\n                        onClick={() => {\n                          this.deleteUser(u._id);\n                        }}\n                      >\n                        Delete\n                      </button>\n                    </td>\n                    <td>\n                      <Link to={`/edit/${u._id}`}>\n                        <button\n                          type=\"button\"\n                          className=\"btn btn-success float-right\"\n                        >\n                          Edit\n                        </button>\n                      </Link>\n                    </td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n          <Pagination\n            itemsCount={this.state.user.length}\n            pageSize={this.state.pageSize}\n            currentPage={this.state.currentPage}\n            onPageChange={this.handlePageChange}\n          />\n        </React.Fragment>\n      </div>\n    );\n  }\n}\n\nexport default UserList;\n"]},"metadata":{},"sourceType":"module"}