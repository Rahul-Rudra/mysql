(this.webpackJsonplms=this.webpackJsonplms||[]).push([[0],{24:function(e){e.exports=JSON.parse("[{}]")},25:function(e){e.exports=JSON.parse("[{}]")},47:function(e){e.exports=JSON.parse("[{}]")},48:function(e){e.exports=JSON.parse("[{}]")},49:function(e){e.exports=JSON.parse("[{}]")},50:function(e,t,a){e.exports=a(78)},55:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),r=a(21),s=a.n(r),o=a(7),c=a(9),i=(a(55),a(3)),m=a(4),u=a(8),d=a(6),h=a(5),g=a(2),b=a.n(g),p=a(46);function E(){var e=localStorage.getItem("name");return l.a.createElement(n.Fragment,null,l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},l.a.createElement(o.b,{className:"navbar-brand",to:"#"},"LMS"),l.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},l.a.createElement("ul",{className:"navbar-nav mr-auto"},l.a.createElement("li",{className:"nav-item"},l.a.createElement(o.b,{className:"nav-link ",to:"/",tabIndex:"-1","aria-disabled":"true"},"Home")),localStorage.getItem("login")&&"superAdmin"===localStorage.getItem("role")?l.a.createElement("li",{className:"nav-item"},l.a.createElement(o.b,{className:"nav-link",to:"/dashboard",tabIndex:"-1","aria-disabled":"true"},"Dashboard")):"",localStorage.getItem("login")&&"superAdmin"===localStorage.getItem("role")?l.a.createElement("li",{className:"nav-item"},l.a.createElement(o.b,{className:"nav-link",to:"/users",tabIndex:"-1","aria-disabled":"true"},"UserList")):"",localStorage.getItem("login")&&"superAdmin"===localStorage.getItem("role")?l.a.createElement("li",{className:"nav-item"},l.a.createElement(o.b,{className:"nav-link",to:"/activitys",tabIndex:"-1","aria-disabled":"true"},"Activity")):"",localStorage.getItem("login")&&"Admin"===localStorage.getItem("role")?l.a.createElement("li",{className:"nav-item"},l.a.createElement(o.b,{className:"nav-link",to:"/activitys",tabIndex:"-1","aria-disabled":"true"},"Activity")):"",localStorage.getItem("login")?l.a.createElement("li",{className:"nav-item"},l.a.createElement(o.b,{className:"nav-link",to:"/profile",tabIndex:"-1","aria-disabled":"true"},"Profile")):"",localStorage.getItem("login")?l.a.createElement("li",{className:"nav-item"},l.a.createElement(o.b,{className:"nav-link",to:"/books",tabIndex:"-1","aria-disabled":"true"},"Book")):"",localStorage.getItem("login")?l.a.createElement("li",{className:"nav-item"},l.a.createElement(o.b,{className:"nav-link",to:"/mybooks",tabIndex:"-1","aria-disabled":"true"},"Mybook")):"",localStorage.getItem("login")&&"superAdmin"===localStorage.getItem("role")?l.a.createElement("li",{className:"nav-item"},l.a.createElement(o.b,{className:"nav-link",to:"/issuedbooks",tabIndex:"-1","aria-disabled":"true"},"IssuedBook")):"",localStorage.getItem("login")&&"Admin"===localStorage.getItem("role")?l.a.createElement("li",{className:"nav-item"},l.a.createElement(o.b,{className:"nav-link",to:"/issuedbooks",tabIndex:"-1","aria-disabled":"true"},"IssuedBook")):""),l.a.createElement("ul",{className:"nav navbar-nav navbar-right"},l.a.createElement("li",{className:"nav-item ml-5 "},l.a.createElement(o.b,{className:"nav-link active",to:"/profile",tabIndex:"-1","aria-disabled":"false"},l.a.createElement("span",{style:{color:"#deee78",margin:"5px",textAlign:"center"}},e),l.a.createElement(p.a,null))),localStorage.getItem("login")?l.a.createElement("li",{className:"nav-item"},l.a.createElement(o.b,{className:"nav-link",to:"/logout",tabIndex:"-1","aria-disabled":"true"},"Logout")):l.a.createElement("li",{className:"nav-item"},l.a.createElement(o.b,{className:"nav-link",to:"/login",tabIndex:"-1","aria-disabled":"true"},"Login")),localStorage.getItem("login")?" ":l.a.createElement("li",{className:"nav-item"},l.a.createElement(o.b,{className:"nav-link",to:"/register",tabIndex:"-1","aria-disabled":"true"},"SignUp"))))))}a(27);var v=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"alert alert-danger ",role:"alert"},"Username or password is incorrect")}}]),a}(n.Component),f=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onChangeEmail=n.onChangeEmail.bind(Object(u.a)(n)),n.onChangePassword=n.onChangePassword.bind(Object(u.a)(n)),n.onSubmit=n.onSubmit.bind(Object(u.a)(n)),n.state={email:"",password:"",errors:{email:"",password:""},alert_message:""},n}return Object(m.a)(a,[{key:"onChangeEmail",value:function(e){var t=e.target.value,a=this.state.errors;a.email=" "===this.state.email||t.length<3?"email must contain 3 character":"";var n=t.indexOf("@"),l=t.lastIndexOf(".");(n<1||l-n<2)&&(a.email="please enter a valid email id"),this.setState({email:e.target.value})}},{key:"onChangePassword",value:function(e){var t=e.target.value;this.state.errors.password=t.length<6?"password must contain atleast  6 character":"",this.setState({password:e.target.value})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a=this.state.errors;""===this.state.email?a.email="Can not be null":""===this.state.password?a.password="Can not be null":0!==this.state.errors.email.length?a.email=this.state.errors.email:0!==this.state.errors.password.length&&(a.password=this.state.errors.password);var n={email:this.state.email,password:this.state.password};b.a.post("/api/auth",n).then((function(e){return localStorage.setItem("login",JSON.stringify(e)),localStorage.setItem("role",e.data.role),localStorage.setItem("id",e.data.id),localStorage.setItem("name",e.data.name),console.log(e.data.id),t.props.history.push("/")})).catch((function(e){console.log(e.msg),0===t.state.errors.email.length&&0===t.state.errors.password.length&&t.setState({alert_message:"error"})})),this.setState({email:"",password:""})}},{key:"render",value:function(){var e=this.state.errors;return l.a.createElement(l.a.Fragment,null,l.a.createElement(E,null),l.a.createElement("div",{className:"wrapper m-5 "},l.a.createElement("h1",{style:{textAlign:"center",color:"ButtonShadow"}},"Login"),"error"===this.state.alert_message?l.a.createElement(v,null):"",l.a.createElement("form",{onSubmit:this.onSubmit},l.a.createElement("div",{className:"form-group m-3"},l.a.createElement("label",{forhtml:"email"},"Email"),l.a.createElement("input",{autoFocus:!0,autoComplete:!0,type:"email",id:"email",placeholder:"Email",value:this.state.email,onChange:this.onChangeEmail,className:"form-control"}),e.email?l.a.createElement("div",{className:"alert alert-danger m-2",role:"alert"},e.email):""),l.a.createElement("div",{className:"form-group m-3 "},l.a.createElement("label",{forhtml:"password"},"Password"),l.a.createElement("input",{autoComplete:!0,type:"password",id:"password",placeholder:"Password",value:this.state.password,onChange:this.onChangePassword,className:"form-control"}),e.password?l.a.createElement("div",{className:"alert alert-danger m-2",role:"alert"},e.password):""),0===this.state.errors.email.length&&0===this.state.errors.password.length?l.a.createElement("div",{className:"form-group m-3"},l.a.createElement("input",{type:"submit",value:"Login",className:"btn btn-success"})):l.a.createElement("div",{className:"form-group m-3"},l.a.createElement("input",{type:"submit",value:"Login",disabled:"true",className:"btn btn-success"})),l.a.createElement("div",null,l.a.createElement(o.b,{to:"/forget-password"},"Forget Password"),l.a.createElement("hr",null)," New_User ?",l.a.createElement(o.b,{to:"/register"},"Register")))))}}]),a}(n.Component),N=(a(17),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"alert alert-danger",role:"alert"},"User already exists")}}]),a}(n.Component)),S=a(12),k=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onChangeUser=n.onChangeUser.bind(Object(u.a)(n)),n.onChangeEmail=n.onChangeEmail.bind(Object(u.a)(n)),n.onChangePassword=n.onChangePassword.bind(Object(u.a)(n)),n.handleChange=n.handleChange.bind(Object(u.a)(n)),n.onSubmit=n.onSubmit.bind(Object(u.a)(n)),n.state={name:"",email:"",password:"",role:"user",errors:{name:"",email:"",password:""},alert_message:""},n}return Object(m.a)(a,[{key:"onChangeUser",value:function(e){var t=e.target.value;this.state.errors.name=t.length<3?"name must contain 3 character":"",this.setState({name:e.target.value})}},{key:"onChangeEmail",value:function(e){var t=e.target.value,a=this.state.errors;a.email=t.length>30?"email can not be more than 30 character":"";var n=t.indexOf("@"),l=t.lastIndexOf(".");(n<1||l-n<2)&&(a.email="please enter a valid email id"),this.setState({email:e.target.value})}},{key:"onChangePassword",value:function(e){var t=e.target.value;this.state.errors.password=t.length<6?"password must contain atleast  6 character":"",this.setState({password:e.target.value})}},{key:"handleChange",value:function(e){this.setState({role:e.target.value})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a=this.state.errors;""===this.state.name?a.name="Can not be null":""===this.state.email?a.email="Can not be null":""===this.state.password?a.password="Can not be null":0!==this.state.password.length?a.password=this.state.errors.name:0!==this.state.errors.email.length?a.email=this.state.errors.email:0!==this.state.errors.password.length&&(a.password=this.state.errors.password);var n={name:this.state.name,email:this.state.email,password:this.state.password,role:this.state.role};b.a.post("/api/users",n).then((function(e){t.setState({alert_message:"success"})})).catch((function(e){console.log(e),0===t.state.errors.email.length&&0===t.state.errors.password.length&&0===t.state.errors.name.length&&t.setState({alert_message:"error"})})),this.setState({name:"",email:"",password:""})}},{key:"render",value:function(){var e=this.state.errors;return l.a.createElement(l.a.Fragment,null,l.a.createElement(S.a,null),l.a.createElement(E,null),l.a.createElement("div",{className:"wrapper m-5 "},l.a.createElement("h1",{style:{textAlign:"center",color:"ButtonShadow"}},"SignUp"),"error"===this.state.alert_message?l.a.createElement(N,null):"","success"===this.state.alert_message?l.a.createElement("div",{className:"alert alert-success",role:"alert"},"Successfully Registered",l.a.createElement(o.b,{className:"m-5",to:"/login"},"Login")):"",l.a.createElement("form",{onSubmit:this.onSubmit},l.a.createElement("div",{className:"form-group m-3"},l.a.createElement("label",{forhtml:"name"},"Name"),l.a.createElement("input",{autoFocus:!0,type:"text",id:"name",placeholder:"Name",value:this.state.name,onChange:this.onChangeUser,className:"form-control"}),e.name?l.a.createElement("div",{className:"alert alert-danger m-1",role:"alert"},e.name):""),l.a.createElement("div",{className:"form-group m-3"},l.a.createElement("label",{forhtml:"email"},"Email"),l.a.createElement("input",{type:"text",id:"email",placeholder:"Email",value:this.state.email,onChange:this.onChangeEmail,className:"form-control"}),e.email?l.a.createElement("div",{className:"alert alert-danger m-1",role:"alert"},e.email):""),l.a.createElement("div",{className:"form-group m-3 "},l.a.createElement("label",{forhtml:"password"},"Password"),l.a.createElement("input",{type:"password",id:"password",placeholder:"password",value:this.state.password,onChange:this.onChangePassword,className:"form-control"}),e.password?l.a.createElement("div",{className:"alert alert-danger m-1",role:"alert"},e.password):""),l.a.createElement("div",{className:"form-group m-3"},l.a.createElement("label",{forhtml:"exampleFormControlSelect"},"Role"),l.a.createElement("select",{className:"form-control",value:this.state.role,onChange:this.handleChange},l.a.createElement("option",{value:"user"},"user"),l.a.createElement("option",{value:"Admin"},"Admin"),l.a.createElement("option",{value:"superAdmin"},"superAdmin"))),0===this.state.errors.email.length&&0===this.state.errors.password.length&&0===this.state.errors.name.length?l.a.createElement("div",{className:"form-group m-3"},l.a.createElement("input",{type:"submit",value:"Register",className:"btn btn-success "})):l.a.createElement("div",{className:"form-group m-3"},l.a.createElement("input",{type:"submit",value:"Register",disabled:"true",className:"btn btn-success "})))))}}]),a}(n.Component);function y(){return l.a.createElement(n.Fragment,null,l.a.createElement(E,null),l.a.createElement("div",{className:"card-columns"},l.a.createElement("div",{className:"card bg-info m-3",style:{width:400}},l.a.createElement("img",{className:"card-img-top ",src:"abc.jpeg",alt:"abc.jpeg"}),l.a.createElement("div",{className:"card-body"},l.a.createElement("h4",{className:"card-title"},"Nodejs"))),l.a.createElement("div",{className:"card bg-danger m-3",style:{width:400}},l.a.createElement("img",{className:"card-img-top ",src:"abc.jpeg",alt:"abc.jpeg"}),l.a.createElement("div",{className:"card-body"},l.a.createElement("h4",{className:"card-title"},"Reactjs"))),l.a.createElement("div",{className:"card bg-success m-3",style:{width:400}},l.a.createElement("img",{className:"card-img-top ",src:"abc.jpeg",alt:"abc.jpeg"}),l.a.createElement("div",{className:"card-body"},l.a.createElement("h4",{className:"card-title"},"Express")))),l.a.createElement("div",{className:"card-columns"},l.a.createElement("div",{className:"card bg-info m-3",style:{width:400}},l.a.createElement("img",{className:"card-img-top ",src:"abc.jpeg",alt:"abc.jpeg"}),l.a.createElement("div",{className:"card-body"},l.a.createElement("h4",{className:"card-title"},"Nodejs"))),l.a.createElement("div",{className:"card bg-danger m-3",style:{width:400}},l.a.createElement("img",{className:"card-img-top ",src:"abc.jpeg",alt:"abc.jpeg"}),l.a.createElement("div",{className:"card-body"},l.a.createElement("h4",{className:"card-title"},"Reactjs"))),l.a.createElement("div",{className:"card bg-success m-3",style:{width:400}},l.a.createElement("img",{className:"card-img-top ",src:"abc.jpeg",alt:"abc.jpeg"}),l.a.createElement("div",{className:"card-body"},l.a.createElement("h4",{className:"card-title"},"Express")))))}var C=a(14),w=a(28),j=a(47),I=a(20),O=a.n(I),B=function(e){var t=e.itemsCount,a=e.pageSize,n=e.currentPage,r=Math.ceil(t/a);if(1===r)return null;var s=O.a.range(1,r+1);return l.a.createElement("nav",{"aria-label":"Page navigation example"},l.a.createElement("ul",{className:"pagination justify-content-left"},s.map((function(t){return l.a.createElement("li",{key:t,className:t===n?"page-item active":"page-item"},l.a.createElement("a",{href:"#",className:"page-link",onClick:function(){e.onPageChange(t)}},t))}))))};function P(e,t,a){var n=(t-1)*a;return O()(e).slice(n).take(a).value()}var x=a(24),_=a(22),A=a.n(_),D=a(18),R=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={book:[],Issue:[],user:[{bookIssueInfo:[]}],searchData:null,currentPage:1,message:[],pageSize:10,count:0,bool:"true",s:"btn btn-primary float-right",s1:"btn btn-primary float-right",e:"btn btn-primary float-right disabled",pos:0,d:!1,input:"request",disabled:[],sortColumn:{path:"title",order:"asc"}},e.sortBy=function(t){var a=Object(w.a)({},e.state.sortColumn);a.path===t?a.order="asc"===a.order?"desc":"asc":(a.path=t,a.order="asc"),e.setState({sortColumn:a})},e.RequestBook=function(t,a){var n=localStorage.getItem("id");b.a.post("/api/messages/book_id/".concat(t,"/user_id/").concat(n)).then((function(a){return console.log(a.data),5===a.data.len||0===a.data.st?S.b.warning("You can not access more than 5 books or stock is zero"):S.b.success("successfully requested by you"),e.setState({message:a.data}),e.setState({disabled:[].concat(Object(C.a)(e.state.disabled),[t])}),e.props.history.push("/books")})).catch((function(e){console.log(e)}))},e.ReturnBook=function(t){var a=localStorage.getItem("id");b.a.post("/api/return/book_id/".concat(t,"/user_id/").concat(a)).then((function(t){return console.log(t.data.c),e.setState({Issue:t.data.issue}),null===t.data.issue||t.data.c!==t.data.book_id?S.b.error("You can not return this book first issue the book then only you can return"):S.b.success("successfully return by you"),e.props.history.push("/books")})).catch((function(e){console.log(e);S.b.error("You did not issued this book so first issue then only you can return")}))},e.RenewBook=function(t){var a=localStorage.getItem("id");b.a.post("/api/renew/book_id/".concat(t,"/user_id/").concat(a)).then((function(t){console.log(t.data),e.setState({Issue:t.data}),t.data.msg?S.b.error(t.data.msg):S.b.success("successfully renew by you")})).catch((function(e){console.log(e);S.b.error("You did not issued this book so first issue then only you can renew")}))},e.control=function(t){e.setState({count:e.state.count+1})},e.handleDelete=function(t){A.a.fire({title:"Are you sure?",text:"You won't be able to revert this",type:"warning",showCancelButton:!0,confirmButtonColor:"red",cancelButtonColor:"grey",confirmButtonText:"Yes,delete it!"}).then((function(a){a.value&&e.deleteUser(t)}))},e.deleteUser=function(t){b.a.delete("/api/books/".concat(t)).then((function(a){var n=e.state.book.filter((function(e){return e.book_id!==t}));e.setState({book:n}),A.a.fire(" successfully Deleted")})).catch((function(e){A.a.fire("Something went wrong")}))},e.handlePageChange=function(t){e.setState({currentPage:t})},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;b.a.get("/api/books").then((function(t){e.setState({book:Object(C.a)(t.data)}),console.log(t.data)})).catch((function(e){console.log(e)}))}},{key:"search",value:function(e){var t=this;b.a.get("/api/books/search?title="+e).then((function(e){t.setState({searchData:e.data}),console.log(j),console.log(e.data)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.pageSize,n=t.currentPage,r=t.book,s=t.sortColumn,c=P(O.a.orderBy(r,[s.path],[s.order]),n,a);return l.a.createElement("div",{className:"App"},l.a.createElement(l.a.Fragment,null,l.a.createElement(S.a,null),l.a.createElement(E,null),localStorage.getItem("login")&&"superAdmin"===localStorage.getItem("role")?l.a.createElement(o.b,{to:"/addbooks"},l.a.createElement("input",{type:"submit",value:"AddBook",className:"btn btn-info mt-2"})):"",l.a.createElement("hr",null),l.a.createElement("h3",null,"Search"),l.a.createElement("input",{type:"text",placeholder:"Book Name",className:"form-control-sm ml-5",onChange:function(t){return e.search(t.target.value)}}),this.state.searchData?l.a.createElement("table",{className:"table table-bordered table-hover table-lg  p-2 m-2"},l.a.createElement("thead",null,l.a.createElement("tr",{className:"table-warning"},l.a.createElement("th",{scope:"col"},"Title"),l.a.createElement("th",null,"ISBN"),l.a.createElement("th",null,"Stock"),l.a.createElement("th",null,"Author"),l.a.createElement("th",{scope:"col"},"Issue"),l.a.createElement("th",null,"Return"),l.a.createElement("th",null,"Renew"),"superAdmin"===localStorage.getItem("role")?l.a.createElement("th",null,"Delete"):"")),l.a.createElement("tbody",null,this.state.searchData.map((function(t,a){var n=localStorage.getItem("id"),r=t.user_id;return l.a.createElement("tr",{key:a},l.a.createElement("td",null,t.title),l.a.createElement("td",null,t.ISBN),l.a.createElement("td",null,t.stock),l.a.createElement("td",null,t.author),l.a.createElement("td",null,l.a.createElement("button",{type:"button",key:t.book_id,disabled:-1!==e.state.disabled.indexOf(t.book_id)||0===t.stock,onClick:function(){e.RequestBook(t._id)},className:r==n||0===t.stock?e.state.e:e.state.s},e.state.input)),l.a.createElement("td",null,l.a.createElement("button",{type:"button",disabled:r!=n,className:e.state.s,onClick:function(){e.ReturnBook(t._id)}},"Return")),l.a.createElement("td",null,l.a.createElement("button",{type:"button",disabled:r!=n,onClick:function(){e.RenewBook(t.book_id)},className:e.state.s},"Return")),"superAdmin"===localStorage.getItem("role")?l.a.createElement("td",null,l.a.createElement("button",{type:"button",className:"btn btn-danger float-right",onClick:function(){e.handleDelete(t.book_id)}},"Delete")):"")})))):l.a.createElement("table",{className:"table table-bordered table-hover table-lg  p-1 mt-2"},l.a.createElement("thead",null,l.a.createElement("tr",{className:"table-warning"},l.a.createElement("th",{scope:"col",onClick:function(){return e.sortBy("title")}},"Title","asc"===s.order?l.a.createElement(D.b,null):l.a.createElement(D.a,null)),l.a.createElement("th",null,"ISBN"),l.a.createElement("th",{onClick:function(){return e.sortBy("stock")}},"Stock ","asc"===s.order?l.a.createElement(D.b,null):l.a.createElement(D.a,null)),l.a.createElement("th",{onClick:function(){return e.sortBy("author")}},"Author","asc"===s.order?l.a.createElement(D.b,null):l.a.createElement(D.a,null)),l.a.createElement("th",{scope:"col"},"Issue"),l.a.createElement("th",null,"Return"),l.a.createElement("th",null,"Renew"),"superAdmin"===localStorage.getItem("role")?l.a.createElement("th",null,"Delete"):"")),l.a.createElement("tbody",null,c.map((function(t,a){var n=localStorage.getItem("id"),r=t.user_id;return console.log(r==n),l.a.createElement("tr",{key:a},l.a.createElement("td",null,t.title),l.a.createElement("td",null,t.ISBN),l.a.createElement("td",null,t.stock),l.a.createElement("td",null,t.author),l.a.createElement("td",null,l.a.createElement("button",{key:t.book_id,type:"button",disabled:-1!==e.state.disabled.indexOf(t.book_id)||0===t.stock,className:r==n||0===t.stock?e.state.e:e.state.s,onClick:function(){e.RequestBook(t.book_id)}},e.state.input)),l.a.createElement("td",null,l.a.createElement("button",{type:"button",disabled:r!=n,onClick:function(){e.ReturnBook(t.book_id)},className:e.state.s},"Return")),l.a.createElement("td",null,l.a.createElement("button",{type:"button",disabled:r!=n,onClick:function(){e.RenewBook(t.book_id)},className:e.state.s},"Renew")),"superAdmin"===localStorage.getItem("role")?l.a.createElement("td",null,l.a.createElement("button",{type:"button",className:"btn btn-danger float-right",onClick:function(){e.handleDelete(t.book_id)}},"Delete")):"")})))),l.a.createElement(B,{itemsCount:this.state.book.length,pageSize:this.state.pageSize,currentPage:this.state.currentPage,onPageChange:this.handlePageChange})))}}]),a}(n.Component),z=a(25),F=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={user:[],currentPage:1,pageSize:4,count:0,sortColumn:{path:"name",order:"asc"}},e.handleDelete=function(t){A.a.fire({title:"Are you sure?",text:"You won't be able to revert this",type:"warning",showCancelButton:!0,confirmButtonColor:"red",cancelButtonColor:"grey",confirmButtonText:"Yes,delete it!"}).then((function(a){a.value&&e.deleteUser(t)}))},e.deleteUser=function(t){b.a.delete("/api/users/".concat(t)).then((function(a){var n=e.state.user.filter((function(e){return e.id!==t}));e.setState({user:n}),A.a.fire(" successfully Deleted")})).catch((function(e){A.a.fire("Something went wrong")}))},e.control=function(t){e.setState({count:e.state.count+1})},e.handlePageChange=function(t){e.setState({currentPage:t})},e.sortBy=function(t){var a=Object(w.a)({},e.state.sortColumn);a.path===t?a.order="asc"===a.order?"desc":"asc":(a.path=t,a.order="asc"),e.setState({sortColumn:a})},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;b.a.get("/api/users").then((function(t){e.setState({user:t.data}),console.log(z)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.pageSize,n=t.currentPage,r=t.user,s=t.sortColumn,c=P(O.a.orderBy(r,[s.path],[s.order]),n,a);return l.a.createElement("div",{className:"App"},l.a.createElement(l.a.Fragment,null,l.a.createElement(E,null),l.a.createElement("table",{className:"table table-bordered table-hover table-lg w-20 p-2 m-3"},l.a.createElement("thead",null,l.a.createElement("tr",{className:"table-warning"},l.a.createElement("th",{scope:"col",onClick:function(){return e.sortBy("name")}},"Name ","asc"===s.order?l.a.createElement(D.b,null):l.a.createElement(D.a,null)),l.a.createElement("th",null,"Email"),l.a.createElement("th",null,"Role"),l.a.createElement("th",{scope:"col"},"Delete"),l.a.createElement("th",null,"Edit"))),l.a.createElement("tbody",null,c.map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,t.name),l.a.createElement("td",null,t.email),l.a.createElement("td",null,t.role),l.a.createElement("td",null,l.a.createElement("button",{type:"button",className:"btn btn-danger float-right",onClick:function(){e.handleDelete(t.id)}},"Delete")),l.a.createElement("td",null,l.a.createElement(o.b,{to:"/edit/".concat(t.id)},l.a.createElement("button",{type:"button",className:"btn btn-success float-right"},"Edit"))))})))),l.a.createElement(B,{itemsCount:this.state.user.length,pageSize:this.state.pageSize,currentPage:this.state.currentPage,onPageChange:this.handlePageChange})))}}]),a}(n.Component),U=function(){return localStorage.clear(),l.a.createElement(c.a,{to:"/login"})},T=a(30),M=function(e){var t=e.component,a=Object(T.a)(e,["component"]);return l.a.createElement(c.b,Object.assign({},a,{render:function(e){return localStorage.getItem("login")?l.a.createElement(t,e):l.a.createElement(c.a,{to:"login"})}}))},L=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=localStorage.getItem("name"),t=localStorage.getItem("id"),a=localStorage.getItem("role");return l.a.createElement(n.Fragment,null,l.a.createElement(E,null),l.a.createElement("div",{className:"card bg-light mb-3",style:{width:300}},l.a.createElement("img",{className:"card-img-top ",src:"p.png",alt:"p.png"}),l.a.createElement("div",{className:"card-body text"},l.a.createElement("h4",{className:"card-text"},"Name : ",l.a.createElement("span",{style:{color:"black"}},e)),l.a.createElement("h4",null,"Id : ",l.a.createElement("span",{style:{color:"black"}},t)),l.a.createElement("h4",null,"Role : ",l.a.createElement("span",{style:{color:"black"}},a)))))}}]),a}(n.Component),J=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onChangeEmail=n.onChangeEmail.bind(Object(u.a)(n)),n.onSubmit=n.onSubmit.bind(Object(u.a)(n)),n.state={email:"",alert_message:"",errors:{email:""}},n}return Object(m.a)(a,[{key:"onChangeEmail",value:function(e){var t=e.target.value,a=this.state.errors;a.email=" "===this.state.email||t.length<3?"email must contain 3 character":"";var n=t.indexOf("@"),l=t.lastIndexOf(".");(n<1||l-n<2)&&(a.email="please enter a valid email id"),this.setState({email:e.target.value})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a={email:this.state.email};b.a.post("/forget-password",a).then((function(e){console.log(e.data.msg),S.b.success(e.data),t.setState({alert_message:"success"})})).catch((function(e){console.log(e),t.setState({alert_message:"error"})})),this.setState({email:""})}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(S.a,null),l.a.createElement(E,null),l.a.createElement("div",{className:"wrapper m-5 "},"succes"===this.state.alert_message?l.a.createElement("div",{className:"alert alert-success",role:"alert"},"Email has been sent to your email id"):"","error"===this.state.alert_message?l.a.createElement("div",{className:"alert alert-danger",role:"alert"},"Enter a correct email id"):"",l.a.createElement("form",{onSubmit:this.onSubmit},l.a.createElement("div",{className:"form-group m-3"},l.a.createElement("label",{forhtml:"email"},"Email"),l.a.createElement("input",{autoFocus:!0,type:"text",id:"email",placeholder:"Email",value:this.state.email,onChange:this.onChangeEmail,className:"form-control"})),this.state.errors.email?l.a.createElement("div",{className:"alert alert-danger m-1",role:"alert"},this.state.errors.email):"",l.a.createElement("div",{className:"form-group m-3"},l.a.createElement("input",{type:"submit",value:"send",className:"btn btn-success"})))))}}]),a}(n.Component),Y=function(e){var t=e.component,a=Object(T.a)(e,["component"]);return l.a.createElement(c.b,Object.assign({},a,{render:function(e){return localStorage.getItem("login")&&"superAdmin"===localStorage.getItem("role")||"Admin"===localStorage.getItem("role")?l.a.createElement(t,e):l.a.createElement(c.a,{to:"login"})}}))},q=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).getUserDetail=function(){var e=n.props.match.params.id;b.a.get("/api/users/".concat(e)).then((function(e){n.setState({name:e.data.name,email:e.data.email,role:e.data.role})})).catch((function(e){console.log(e)}))},n.onChangeUser=n.onChangeUser.bind(Object(u.a)(n)),n.onChangeEmail=n.onChangeEmail.bind(Object(u.a)(n)),n.onChangePassword=n.onChangePassword.bind(Object(u.a)(n)),n.handleChange=n.handleChange.bind(Object(u.a)(n)),n.onSubmit=n.onSubmit.bind(Object(u.a)(n)),n.state={user:[],name:"",email:"",password:"",role:"user"},n}return Object(m.a)(a,[{key:"onChangeUser",value:function(e){this.setState({name:e.target.value})}},{key:"onChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleChange",value:function(e){this.setState({role:e.target.value})}},{key:"componentWillMount",value:function(){this.getUserDetail()}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a={name:this.state.name,email:this.state.email,role:this.state.role},n=this.props.match.params.id;b.a.put("/api/users/".concat(n),a).then((function(e){return alert("Successfully updated"),t.props.history.push("/users")})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(E,null),l.a.createElement("div",{className:"wrapper m-5 "},l.a.createElement("form",{onSubmit:this.onSubmit},l.a.createElement("div",{className:"form-group m-3"},l.a.createElement("label",{forhtml:"name"},"UserName"),l.a.createElement("input",{type:"text",id:"name",placeholder:"UserName",value:this.state.name,onChange:this.onChangeUser,className:"form-control"})),l.a.createElement("div",{className:"form-group m-3"},l.a.createElement("label",{forhtml:"email"},"Email"),l.a.createElement("input",{type:"text",id:"email",placeholder:"Email",value:this.state.email,onChange:this.onChangeEmail,className:"form-control"})),l.a.createElement("div",{className:"form-group m-3"},l.a.createElement("label",{forhtml:"exampleFormControlSelect"},"Role"),l.a.createElement("select",{className:"form-control",value:this.state.role,onChange:this.handleChange},l.a.createElement("option",{value:"user"},"user"),l.a.createElement("option",{value:"Admin"},"Admin"),l.a.createElement("option",{value:"superAdmin"},"superAdmin"))),l.a.createElement("div",{className:"form-group m-3"},l.a.createElement("input",{type:"submit",value:"Update",className:"btn btn-success mr-3"}),l.a.createElement(o.b,{to:"/users"},l.a.createElement("button",{className:"btn btn-secondary"},"Cancel"))),l.a.createElement("div",null))))}}]),a}(n.Component),W=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onChangeId=n.onChangeId.bind(Object(u.a)(n)),n.onChangeTitle=n.onChangeTitle.bind(Object(u.a)(n)),n.onChangeISBN=n.onChangeISBN.bind(Object(u.a)(n)),n.onSubmit=n.onSubmit.bind(Object(u.a)(n)),n.state={book_info:{id:"",title:"",ISBN:"",stock:"",author:""},user_id:{u_id:"",name:""}},n}return Object(m.a)(a,[{key:"onChangeId",value:function(e){this.setState({id:e.target.value})}},{key:"onChangeTitle",value:function(e){this.setState({title:e.target.value})}},{key:"onChangeISBN",value:function(e){this.setState({ISBN:e.target.value})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a={book_info:{id:x._id,title:x.title,ISBN:x.ISBN,stock:x.stock,author:x.author},user_id:{u_id:z._id,name:z.name}};b.a.post("/book/:book_id/issue/:user_id",a).then((function(e){return console.log(e.data),t.props.history.push("/login")})).catch((function(e){console.log(e)})),this.setState({id:"",title:"",ISBN:"",stock:" ",author:"",name:""})}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(E,null),l.a.createElement("div",{className:"wrapper m-5 "},l.a.createElement("form",{onSubmit:this.onSubmit},l.a.createElement("div",{className:"form-group m-3"},l.a.createElement("label",{forhtml:"id"},"Id"),l.a.createElement("input",{autoFocus:!0,type:"text",id:"id",placeholder:"Id",value:this.state.id,onChange:this.onChangeId,className:"form-control"})),l.a.createElement("div",{className:"form-group m-3"},l.a.createElement("label",{forhtml:"title"},"Title"),l.a.createElement("input",{autoFocus:!0,type:"text",id:"title",placeholder:"title",value:this.state.title,onChange:this.onChangeTitle,className:"form-control"})),l.a.createElement("div",{className:"form-group m-3 "},l.a.createElement("label",{forhtml:"ISBN"},"ISBN"),l.a.createElement("input",{autoFocus:!0,type:"text",id:"ISBN",placeholder:"ISBN",value:this.state.ISBN,onChange:this.onChangeISBN,className:"form-control"})),l.a.createElement("div",{className:"form-group m-3"},l.a.createElement("input",{type:"submit",value:"Issue",className:"btn btn-success"})))))}}]),a}(n.Component),H=a(48),V=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={activity:[],currentPage:1,pageSize:10,count:0},e.control=function(t){e.setState({count:e.state.count+1})},e.handlePageChange=function(t){e.setState({currentPage:t})},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;b.a.get("/api/activitys").then((function(t){e.setState({activity:t.data}),console.log(H)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.state,t=e.pageSize,a=e.currentPage,n=P(e.activity,a,t);return l.a.createElement("div",{className:"App"},l.a.createElement(l.a.Fragment,null,l.a.createElement(E,null),l.a.createElement("table",{className:"table table-bordered table-hover table-lg w-40 p-2 m-2"},l.a.createElement("thead",null,l.a.createElement("tr",{className:"table-warning"},l.a.createElement("th",{scope:"col"},"Book_id"),l.a.createElement("th",null,"Book_Title"),l.a.createElement("th",null,"UserName"),l.a.createElement("th",null,"Status"))),l.a.createElement("tbody",null,n.map((function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("td",null,e.info.id),l.a.createElement("td",null,e.info.title),l.a.createElement("td",null,e.user_id.name),l.a.createElement("td",null,e.category))})))),l.a.createElement(B,{itemsCount:this.state.activity.length,pageSize:this.state.pageSize,currentPage:this.state.currentPage,onPageChange:this.handlePageChange})))}}]),a}(n.Component),G=a(29),K=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleInput=function(e){e.preventDefault();var t=e.target.value,a=e.target.name;n.state.errors.password=t.length<6?"password must contain atleast  6 character":"",n.setState(Object(G.a)({},a,t))},n.handleForm=function(e){if(e.preventDefault(),""===n.state.email)return alert("Email is Required"),!1;b.a.post("/forget-password/updatePassword",n.state).then((function(e){return alert(e.data.msg),console.log(e.data.msg),n.props.history.push("/login")})).catch((function(e){e.response&&404===e.response.status?alert(e.response.data.msg):alert("Something Went Wrong"),n.setState({errors:e.response})}))},n.state={linkDate:"",email:"",password:"",confirm_password:"",errors:{password:""}},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.slug.split("+++"),t=e[0],a=e[1],n=e[2];console.log(t),console.log(a),this.setState({email:a,linkDate:t,token:n});var l=new Date(t),r=new Date;console.log(l),console.log(r),r-l>36e3&&(alert("Link Not Valid link will be valid for 30 min.Please sent the reset link Again"),this.props.history.push("/login"))}},{key:"render",value:function(){return l.a.createElement("div",{className:"content"},l.a.createElement("form",{onSubmit:this.handleForm},l.a.createElement("div",{className:"row",style:{marginTop:20}},l.a.createElement("div",{className:"col-sm-3"}),l.a.createElement("div",{className:"col-sm-6"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header text-center"},"Reset Password"),l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Password"),l.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleInput,className:"form-control"})),this.state.errors.password,l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Confirm Password"),l.a.createElement("input",{type:"password",name:"confirm_password",value:this.state.confirm_password,onChange:this.handleInput,className:"form-control"}))),l.a.createElement("div",{className:"card-footer text-center"},l.a.createElement("input",{type:"button",value:"Reset",onClick:this.handleForm,className:"btn btn-primary"})))),l.a.createElement("div",{className:"col-sm-3"}))))}}]),a}(n.Component),Q=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"alert alert-success",role:"alert"},"Successfull added a book")}}]),a}(n.Component),X=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onChangeTitle=n.onChangeTitle.bind(Object(u.a)(n)),n.onChangeISBN=n.onChangeISBN.bind(Object(u.a)(n)),n.onChangeStock=n.onChangeStock.bind(Object(u.a)(n)),n.onChangeAuthor=n.onChangeAuthor.bind(Object(u.a)(n)),n.onSubmit=n.onSubmit.bind(Object(u.a)(n)),n.state={title:"",ISBN:"",stock:"",author:"",errors:{title:"",ISBN:"",stock:"",author:""},alert_message:""},n}return Object(m.a)(a,[{key:"onChangeTitle",value:function(e){var t=e.target.value;this.state.errors.title=t.length<3?"Title must contain between 3 to 10 character shoul be string ":"",this.setState({title:e.target.value})}},{key:"onChangeISBN",value:function(e){var t=e.target.value;this.state.errors.ISBN=t.length<6?"ISBN must contain atleast 6 character":"",this.setState({ISBN:e.target.value})}},{key:"onChangeStock",value:function(e){var t=e.target.value;this.state.errors.stock=t.length<1?"stock must be a Integer and greater than 0":"",this.setState({stock:e.target.value})}},{key:"onChangeAuthor",value:function(e){var t=e.target.value;this.state.errors.author=t.length<3?"author must contain 3 character":"",this.setState({author:e.target.value})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a=this.state.errors;""===this.state.title?a.title="Can not be null":""===this.state.ISBN?a.ISBN="Can not be null":""===this.state.stock?a.stock="Can not be null":""===this.state.author?a.author="Can not be null":0!==this.state.errors.title.length?a.title=this.state.errors.title:0!==this.state.errors.ISBN.length?a.ISBN=this.state.errors.ISBN:0!==this.state.errors.stock.length?a.stock=this.state.errors.stock:0!==this.state.errors.author.length&&(a.author=this.state.errors.author);var n={title:this.state.title,ISBN:this.state.ISBN,stock:this.state.stock,author:this.state.author};b.a.post("/api/books",n).then((function(e){console.log(e.data),t.setState({alert_message:"success"})})).catch((function(e){t.setState({alert_message:"error"})})),this.setState({title:"",ISBN:"",stock:"",author:""})}},{key:"render",value:function(){var e=this.state.errors;return l.a.createElement(l.a.Fragment,null,l.a.createElement(E,null),l.a.createElement("div",{className:"wrapper m-5 "},"success"===this.state.alert_message?l.a.createElement(Q,null):"",l.a.createElement("form",{onSubmit:this.onSubmit},l.a.createElement("div",{className:"form-group m-3"},l.a.createElement("label",{forhtml:"title"},"Title"),l.a.createElement("input",{autoFocus:!0,type:"text",id:"title",placeholder:"Title",value:this.state.title,onChange:this.onChangeTitle,className:"form-control"}),e.title?l.a.createElement("div",{className:"alert alert-danger m-1",role:"alert"},e.title):""),l.a.createElement("div",{className:"form-group m-3"},l.a.createElement("label",{forhtml:"ISBN"},"ISBN"),l.a.createElement("input",{type:"text",id:"ISBN",placeholder:"ISBN",value:this.state.ISBN,onChange:this.onChangeISBN,className:"form-control"}),e.ISBN?l.a.createElement("div",{className:"alert alert-danger m-1",role:"alert"},e.ISBN):""),l.a.createElement("div",{className:"form-group m-3 "},l.a.createElement("label",{forhtml:"stock"},"Stock"),l.a.createElement("input",{type:"text",id:"stock",placeholder:"stock",value:this.state.stock,onChange:this.onChangeStock,className:"form-control"}),e.stock?l.a.createElement("div",{className:"alert alert-danger m-1",role:"alert"},e.stock):""),l.a.createElement("div",{className:"form-group m-3"},l.a.createElement("label",{forhtml:"author"},"Author"),l.a.createElement("input",{type:"text",id:"author",placeholder:"Author",value:this.state.author,onChange:this.onChangeAuthor,className:"form-control"}),e.author?l.a.createElement("div",{className:"alert alert-danger m-1",role:"alert"},e.author):""),l.a.createElement("div",{className:"form-group m-3"},l.a.createElement("input",{type:"submit",value:"ADD",className:"btn btn-success mr-3"}),l.a.createElement(o.b,{to:"/books"},l.a.createElement("button",{className:"btn btn-secondary"},"Cancel"))))))}}]),a}(n.Component),Z=a(49),$=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={Issue:[],currentPage:1,pageSize:5,count:0},e.control=function(t){e.setState({count:e.state.count+1})},e.handlePageChange=function(t){e.setState({currentPage:t})},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;b.a.get("/api/issued/books").then((function(t){e.setState({Issue:t.data}),console.log(Z)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.state,t=e.pageSize,a=e.currentPage,n=P(e.Issue,a,t);return l.a.createElement("div",{className:"App"},l.a.createElement(l.a.Fragment,null,l.a.createElement(E,null),l.a.createElement("table",{className:"table table-bordered table-hover table-lg w-40 p-3 m-5"},l.a.createElement("thead",null,l.a.createElement("tr",{className:"table-success"},l.a.createElement("th",null,"Book_Title"),l.a.createElement("th",null,"IssueDate"),l.a.createElement("th",null,"UserId"))),l.a.createElement("tbody",null,n.map((function(e,t){var a=e.issueDate.split("T");return l.a.createElement("tr",{key:t},l.a.createElement("td",null,e.title),l.a.createElement("td",null,a[0]),l.a.createElement("td",null,e.user_id))})))),l.a.createElement(B,{itemsCount:this.state.Issue.length,pageSize:this.state.pageSize,currentPage:this.state.currentPage,onPageChange:this.handlePageChange})))}}]),a}(n.Component),ee=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).control=function(e){n.setState({count:n.state.count+1})},n.handlePageChange=function(e){n.setState({currentPage:e})},n.state={mybook:[],currentPage:1,pageSize:4,count:0},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("id");b.a.get("/api/users/mybooks/".concat(t)).then((function(t){console.log(t.data),e.setState({mybook:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.state,t=e.pageSize,a=e.currentPage,n=P(e.mybook,a,t);return l.a.createElement("div",{className:"App"},l.a.createElement(l.a.Fragment,null,l.a.createElement(E,null),l.a.createElement("table",{className:"table table-bordered table-hover table-lg w-30 p-2 m-3"},l.a.createElement("thead",null,l.a.createElement("tr",{className:"table-success"},l.a.createElement("th",{scope:"col"},"Book_Name"),l.a.createElement("th",null,"IssueDate"),l.a.createElement("th",null,"Return"))),l.a.createElement("tbody",null,n.map((function(e,t){var a=e.issueDate.split("T"),n=e.returnDate.split("T");return l.a.createElement("tr",{key:t},l.a.createElement("td",null,e.title),l.a.createElement("td",null,a[0]),l.a.createElement("td",null,n[0]))})))),l.a.createElement(B,{itemsCount:this.state.mybook.length,pageSize:this.state.pageSize,currentPage:this.state.currentPage,onPageChange:this.handlePageChange})))}}]),a}(n.Component),te=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={message3:[],message1:[],message2:[]},e.getall=function(){b.a.get("/api/messages").then((function(t){e.setState({message3:Object(C.a)(t.data)})})).catch((function(e){console.log(e)}))},e}return Object(m.a)(a,[{key:"componentDidUpdate",value:function(){var e=this;b.a.get("/api/messages/allowed").then((function(t){e.setState({message1:Object(C.a)(t.data)})})).catch((function(e){console.log(e)}))}},{key:"componentDidMount",value:function(){var e=this;this.getall(),b.a.get("/api/messages/rejected").then((function(t){e.setState({message2:Object(C.a)(t.data)})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return l.a.createElement(n.Fragment,null,l.a.createElement(E,null),l.a.createElement("div",{class:"card"},l.a.createElement("div",{class:"card-header"},"Notification"),l.a.createElement("div",{class:"card-body"},l.a.createElement("h5",{class:"card-title"},"Requested Book"),l.a.createElement("p",{class:"card-text"},"With supporting text below as a natural lead-in to additional content."),l.a.createElement(o.b,{to:"/messages"},l.a.createElement("button",{type:"button",className:"btn btn-primary m-2"},"Pending",l.a.createElement("span",{className:"badge badge-light"},this.state.message3.length),l.a.createElement("span",{className:"sr-only"},"unread messages"))),l.a.createElement(o.b,{to:"/allowedmessages"},l.a.createElement("button",{type:"button",className:"btn btn-success m-2"},"Allowed",l.a.createElement("span",{className:"badge badge-light"},this.state.message1.length),l.a.createElement("span",{className:"sr-only"},"unread messages"))),l.a.createElement(o.b,{to:"/rejectedmessages"},l.a.createElement("button",{type:"button",className:"btn btn-secondary m-2"},"Reject",l.a.createElement("span",{className:"badge badge-light"},this.state.message2.length),l.a.createElement("span",{className:"sr-only"},"unread messages"))))))}}]),a}(n.Component),ae=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={message:[],issue:[],pageSize:10,count:0,currentPage:1},e.IssueBook=function(t,a,n){b.a.post("/api/book/".concat(t,"/issue/").concat(n)).then((function(t){return console.log(t.data),e.setState({issue:t.data}),e.allowBook(a),e.props.history.push("/dashboard")})).catch((function(e){console.log(e)}))},e.allowBook=function(t){b.a.put("/api/messages/".concat(t)).then((function(t){e.setState({message:t.data})}))},e.RejectBook=function(t){b.a.put("/api/messages/reject/".concat(t)).then((function(t){return e.setState({message:t.data}),e.props.history.push("/dashboard")}))},e.control=function(t){e.setState({count:e.state.count+1})},e.handlePageChange=function(t){e.setState({currentPage:t})},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;b.a.get("/api/messages").then((function(t){e.setState({message:Object(C.a)(t.data)}),console.log(t.data)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.pageSize,r=t.currentPage,s=P(t.message,r,a);return l.a.createElement(n.Fragment,null,l.a.createElement(E,null),l.a.createElement("table",{className:"table table-bordered table-hover table-lg  p-2 m-2"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"BookId"),l.a.createElement("th",null,"UserId"),l.a.createElement("th",null,"Message"),l.a.createElement("th",null,"Allow"),l.a.createElement("th",null,"Cancel"))),l.a.createElement("tbody",null,s.map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,t.book_id),l.a.createElement("td",null,t.user_id),l.a.createElement("td",null,t.text),l.a.createElement("td",null,l.a.createElement("button",{type:"button",className:"btn btn-primary float-right",onClick:function(){e.IssueBook(t.book_id,t.message_id,t.user_id)}},"Allow")),l.a.createElement("td",null,l.a.createElement("button",{type:"button",className:"btn btn-secondary float-right",onClick:function(){e.RejectBook(t._id)}},"Reject")))})))),l.a.createElement(B,{itemsCount:this.state.message.length,pageSize:this.state.pageSize,currentPage:this.state.currentPage,onPageChange:this.handlePageChange}))}}]),a}(n.Component),ne=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={issue:[],message1:[],pageSize:10,count:0,currentPage:1},e.IssueBook=function(t,a){var n=localStorage.getItem("id");b.a.post("/api/book/".concat(t,"/issue/").concat(n)).then((function(t){return console.log(t.data),e.setState({issue:t.data}),e.props.history.push("/dashboard")})).catch((function(e){console.log(e)}))},e.allowBook=function(t){b.a.put("/api/messages/allowed/".concat(t)).then((function(t){e.setState({message:t.data})}))},e.control=function(t){e.setState({count:e.state.count+1})},e.handlePageChange=function(t){e.setState({currentPage:t})},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;b.a.get("/api/messages/allowed").then((function(t){e.setState({message1:Object(C.a)(t.data)}),console.log(t.data)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.pageSize,r=t.currentPage,s=P(t.message1,r,a);return l.a.createElement(n.Fragment,null,l.a.createElement(E,null),l.a.createElement("table",{className:"table table-bordered table-hover table-lg  p-2 m-2"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"BookId"),l.a.createElement("th",null,"UserId"),l.a.createElement("th",null,"Message"),l.a.createElement("th",null,"Allow"),l.a.createElement("th",null,"Cancel"))),l.a.createElement("tbody",null,s.map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,t.book_id),l.a.createElement("td",null,t.user_id),l.a.createElement("td",null,t.text),l.a.createElement("td",null,l.a.createElement("button",{type:"button",disabled:"true",className:"btn btn-primary float-right disabled",onClick:function(){e.IssueBook(t.book_info.id,t._id)}},"Allow")),l.a.createElement("td",null,l.a.createElement("button",{type:"button",disabled:"true",className:"btn btn-secondary float-right disabled",onClick:function(){e.CancelBook(t.message_id)}},"Cancel")))})))),l.a.createElement(B,{itemsCount:this.state.message1.length,pageSize:this.state.pageSize,currentPage:this.state.currentPage,onPageChange:this.handlePageChange}))}}]),a}(n.Component),le=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={issue:[],message1:[],pageSize:10,count:0,currentPage:1},e.IssueBook=function(t,a){var n=localStorage.getItem("id");b.a.post("/api/book/".concat(t,"/issue/").concat(n)).then((function(t){return console.log(t.data),e.setState({issue:t.data}),e.props.history.push("/dashboard")})).catch((function(e){console.log(e)}))},e.allowBook=function(t){b.a.put("/api/messages/allowed/".concat(t)).then((function(t){e.setState({message:t.data})}))},e.control=function(t){e.setState({count:e.state.count+1})},e.handlePageChange=function(t){e.setState({currentPage:t})},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;b.a.get("/api/messages/rejected").then((function(t){e.setState({message1:Object(C.a)(t.data)}),console.log(t.data)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.pageSize,r=t.currentPage,s=P(t.message1,r,a);return l.a.createElement(n.Fragment,null,l.a.createElement(E,null),l.a.createElement("table",{className:"table table-bordered table-hover table-lg  p-2 m-2"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"Title"),l.a.createElement("th",null,"ISBN"),l.a.createElement("th",null,"UserName"),l.a.createElement("th",null,"Message"),l.a.createElement("th",null,"Allow"),l.a.createElement("th",null,"Cancel"))),l.a.createElement("tbody",null,s.map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,t.book_info.title),l.a.createElement("td",null,t.book_info.ISBN),l.a.createElement("td",null,t.user_id.name),l.a.createElement("td",null,t.text),l.a.createElement("td",null,l.a.createElement("button",{type:"button",disabled:"true",className:"btn btn-primary float-right",onClick:function(){e.IssueBook(t.book_info.id,t._id)}},"Allow")),l.a.createElement("td",null,l.a.createElement("button",{type:"button",disabled:"true",className:"btn btn-secondary float-right ",onClick:function(){e.CancelBook(t._id)}},"Cancel")))})))),l.a.createElement(B,{itemsCount:this.state.message1.length,pageSize:this.state.pageSize,currentPage:this.state.currentPage,onPageChange:this.handlePageChange}))}}]),a}(n.Component);var re=function(){return l.a.createElement(o.a,null,l.a.createElement(M,{exact:!0,path:"/",component:y}),l.a.createElement(M,{exact:!0,path:"/books",component:R}),l.a.createElement(M,{exact:!0,path:"/profile",component:L}),l.a.createElement(c.b,{exact:!0,path:"/logout",component:U}),l.a.createElement(c.b,{exact:!0,path:"/login",component:f}),l.a.createElement(c.b,{exact:!0,path:"/register",component:k}),l.a.createElement(c.b,{exact:!0,path:"/forget-password",component:J}),l.a.createElement(Y,{exact:!0,path:"/users",component:F}),l.a.createElement(Y,{exact:!0,path:"/edit/:id",component:q}),l.a.createElement(M,{exact:!0,path:"/issue/:id",component:W}),l.a.createElement(Y,{exact:!0,path:"/activitys",component:V}),l.a.createElement(c.b,{exact:!0,path:"/reset-password/:slug",component:K}),l.a.createElement(Y,{exact:!0,path:"/addbooks",component:X}),l.a.createElement(Y,{exact:!0,path:"/issuedbooks",component:$}),l.a.createElement(c.b,{exact:!0,path:"/dashboard",component:te}),l.a.createElement(Y,{exact:!0,path:"/messages",component:ae}),l.a.createElement(Y,{exact:!0,path:"/allowedmessages",component:ne}),l.a.createElement(Y,{exact:!0,path:"/rejectedmessages",component:le}),l.a.createElement(c.b,{exact:!0,path:"/mybooks",component:ee}))};s.a.render(l.a.createElement(re,null),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.9c301b0d.chunk.js.map